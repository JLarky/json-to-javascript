[tasks.wf-install]
description = "Install dependencies with Node"
tools.bun = "1.3"
run = "cd .github/workflows && bun install"

[tasks.wf-install-ci]
description = "Install only production dependencies"
tools.bun = "1.3"
run = "cd .github/workflows && bun install --frozen-lockfile --omit=dev"

[tasks.wf-clear]
description = "Clear generated workflows"
run = "rm -f .github/workflows/*.generated.yml"

[tasks.wf-build]
tools.bun = "1.3"
run = ".github/workflows/utils/build-cli.ts"

[tasks.wf-watch]
tools.bun = "1.3"
run = "bun --watch .github/workflows/utils/build-cli.ts"

[tasks.install]
description = "Install dependencies with Bun"
tools.bun = "1.3"
run = "bun install"

[tasks.test]
depends = ["install"]
description = "Run tests with Bun"
tools.bun = "1.3"
run = "bun test"

[tasks.format]
tools.prettier = "latest"
run = "prettier . --write"

[tasks."format-check"]
tools.prettier = "latest"
run = "prettier . --check"

[tasks.jsr]
depends = ["install", "test"]
description = "Run jsr commands"
tools.bun = "1.3"
run = "bunx jsr"
